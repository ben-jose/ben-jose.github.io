<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Doxygen-Documentation: /home/jose/devel/ben-jose/src/programs/macro_ben_jose/macro_algorithm_ben_jose.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="../../../../index.html"><img alt="Logo" src="../../bj-mix.png"/></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="../../../../index.html">Doxygen-Documentation</a>
   </div>
   <div id="projectbrief">Doxygen Generated Documentation of Ben-Jose Trainable SAT Solver Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_6bfc9a6677dca4d4b6102e819cd9ddf3.html">ben-jose</a></li><li class="navelem"><a class="el" href="../../dir_e91c823ba9044f9eb8e63af177e5cc3c.html">src</a></li><li class="navelem"><a class="el" href="../../dir_112bf70602a9e99a8a282959fe94778c.html">programs</a></li><li class="navelem"><a class="el" href="../../dir_ef032f768503a9db386dd079b2d165db.html">macro_ben_jose</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">macro_algorithm_ben_jose.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a documentation file to help understand the innerworking of the library. It is not compiled.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6c1ce86bc2c830291e5c4e027c26c90f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c1ce86bc2c830291e5c4e027c26c90f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d6d/macro__algorithm__ben__jose_8cpp.html#a6c1ce86bc2c830291e5c4e027c26c90f">THIS_CODE_IS_NOT_COMPILED</a></td></tr>
<tr class="memdesc:a6c1ce86bc2c830291e5c4e027c26c90f"><td class="mdescLeft">&#160;</td><td class="mdescRight">[macro_bj_id] <br /></td></tr>
<tr class="separator:a6c1ce86bc2c830291e5c4e027c26c90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a documentation file to help understand the innerworking of the library. It is not compiled. </p>
<p>It is an outline of the functions that get called during the solving of a SAT instance when the user of the library uses one of the three presentations of the ben-jose API top solve instances:</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/d3c/ben__jose_8h.html#a65eb23939cc4ae39654dbd93343580c8">bj_solve_file</a> </dd>
<dd>
<a class="el" href="../../dc/d3c/ben__jose_8h.html#a45eef575a2ca6c6b90e0a1d998f1eb7d">bj_solve_data</a> </dd>
<dd>
<a class="el" href="../../dc/d3c/ben__jose_8h.html#a2818f32df95b8d462f49a201ce371142">bj_solve_literals</a></dd></dl>
<p>This file is not compiled it is just to help in the understanding of the inner-works of the library, and to help the interested programmer to get familiar with the backbone functions of the library.</p>
<p>The following are its contents:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define THIS_CODE_IS_NOT_COMPILED</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#a2daa8c1c03eea62a51a359470bb64cc7">brain::solve_instance</a>(){</div><div class="line">    <span class="comment">// init all brain data with any of:</span></div><div class="line">    <span class="comment">//      a DIMACS file</span></div><div class="line">    <span class="comment">//      a byte array (the chars in a DIMACS file)</span></div><div class="line">    <span class="comment">//      a literals array (long ints represent literals</span></div><div class="line">    <span class="comment">//          and a 0 separates clauses)</span></div><div class="line">    load_instance(); </div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html#a8524441f8b863aec8fe2cc9c3ad2d21a">think</a>();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> </div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#a8524441f8b863aec8fe2cc9c3ad2d21a">brain::think</a>(){</div><div class="line">    <span class="keywordflow">while</span>(o_info.bjo_result == <a class="code" href="../../dc/d3c/ben__jose_8h.html#ga9aba221730ab694a549d25ee1aa28c69ad8dafe2640a5e989a73880526a853663">bjr_unknown_satisf</a>){</div><div class="line">        <a class="code" href="../../d7/d79/classbrain.html#a9728a44b4e7b71ddb4a47bb25af05612">pulsate</a>();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#a9728a44b4e7b71ddb4a47bb25af05612">brain::pulsate</a>(){</div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html#a28eeaf513dd81fcb3dcb21fb37f58ccb">propagate_signals</a>();</div><div class="line">    <span class="keywordflow">if</span>(found_conflict()){</div><div class="line">        <a class="code" href="../../d7/d79/classbrain.html#a8d880c7f0e91a5dbb2cedaefdb704153">deduce_and_reverse_trail</a>();</div><div class="line">    } <span class="keywordflow">else</span>{</div><div class="line">        choose_quanton();</div><div class="line">        start_propagation();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#a8d880c7f0e91a5dbb2cedaefdb704153">brain::deduce_and_reverse_trail</a>(){</div><div class="line">    <a class="code" href="../../d3/df3/classdeduction.html">deduction</a>&amp; dct = br_pulse_deduc;</div><div class="line">    reason&amp; rsn = dct.dt_rsn;</div><div class="line">    </div><div class="line">    dct.reset_deduction();</div><div class="line">    </div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html#adec5742918fedd1636a6152502bd409c">analyse_conflicts</a>(br_all_conflicts_found, dct);</div><div class="line">    reverse_with(rsn);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#adec5742918fedd1636a6152502bd409c">brain::analyse_conflicts</a>(){</div><div class="line">    <a class="code" href="../../d3/df3/classdeduction.html">deduction</a>&amp; dct = br_pulse_deduc;</div><div class="line">    <a class="code" href="../../d7/d0b/classdeducer.html">deducer</a>&amp; ddc = br_dedcer;</div><div class="line">    </div><div class="line">    dct.reset_deduction();</div><div class="line">    ddc.<a class="code" href="../../d7/d0b/classdeducer.html#a7db42a9dfc25ed6ed6747faea2c90961">deduce</a>(dct); <span class="comment">// good old conflict analysis. </span></div><div class="line">    <span class="comment">//it finds a reason (clause) for a conflict</span></div><div class="line">    </div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html#a16dcda6892686c581ca095f51e6a9def">candidate_find_analysis</a>(ddc, dct); <span class="comment">// try to go further by </span></div><div class="line">    <span class="comment">// finding unsat sub-formulas</span></div><div class="line"></div><div class="line">    row_neuromap_t&amp; to_wrt = dct.dt_all_to_wrt;</div><div class="line">    <a class="code" href="../../db/d3c/brain_8h.html#a14f74143760dde7c17a99c26c736c198">write_all_nmps</a>(to_wrt);</div><div class="line">    </div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../db/d3c/brain_8h.html#a14f74143760dde7c17a99c26c736c198">brain::write_all_nmps</a>(row&lt;neuromap*&gt;&amp; to_wrt){</div><div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> aa = 0; aa &lt; to_wrt.size(); aa++){</div><div class="line">        <a class="code" href="../../d6/d45/classneuromap.html">neuromap</a>&amp; nmp = *(to_wrt[aa]);</div><div class="line">        nmp.<a class="code" href="../../d6/d45/classneuromap.html#adb0c3a4698866c919272f9b4ba5998fd">map_write</a>();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/d79/classbrain.html#a16dcda6892686c581ca095f51e6a9def">brain::candidate_find_analysis</a>(<a class="code" href="../../d7/d0b/classdeducer.html">deducer</a>&amp; dedcer, <a class="code" href="../../d3/df3/classdeduction.html">deduction</a>&amp; dct){</div><div class="line">    <a class="code" href="../../d6/d45/classneuromap.html">neuromap</a>* out_nmp = NULL_PT;</div><div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">long</span> aa = br_candidate_nmp_lvs.last_idx(); aa &gt;= 0; aa--){</div><div class="line">        out_nmp = br_candidate_nmp_lvs[aa];</div><div class="line">        <span class="keywordflow">if</span>(! out_nmp-&gt;<a class="code" href="../../d6/d45/classneuromap.html#a5da738c0ecb7ba74a4fc435ca33b1fcb">map_find</a>()){</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        dct.reset_deduction();</div><div class="line">        dedcer.<a class="code" href="../../d7/d0b/classdeducer.html#a7db42a9dfc25ed6ed6747faea2c90961">deduce</a>(dct);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">bool</span></div><div class="line"><a class="code" href="../../d6/d45/classneuromap.html#a5da738c0ecb7ba74a4fc435ca33b1fcb">neuromap::map_find</a>(){</div><div class="line">    <span class="keywordflow">return</span> map_oper(mo_find);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">bool</span></div><div class="line"><a class="code" href="../../d6/d45/classneuromap.html#adb0c3a4698866c919272f9b4ba5998fd">neuromap::map_write</a>(){</div><div class="line">    <span class="keywordflow">return</span> map_oper(mo_save);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">bool</span></div><div class="line"><a class="code" href="../../d6/d45/classneuromap.html#a5ad7c9c245129fc8a162742c11d4e972">neuromap::map_oper</a>(mem_op_t mm){</div><div class="line">    <span class="comment">// prepare the neuromap: stabilize it to find it&#39;s BCFF.</span></div><div class="line">    <span class="keywordtype">bool</span> prep_ok = map_prepare_mem_oper(mm);</div><div class="line">    <span class="keywordflow">if</span>(! prep_ok){</div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html">brain</a>&amp; brn = get_brn();</div><div class="line">    <a class="code" href="../../dd/dad/classskeleton__glb.html">skeleton_glb</a>&amp; skg = brn.get_skeleton();</div><div class="line">    </div><div class="line">    <a class="code" href="../../da/deb/classcanon__cnf.html">canon_cnf</a>&amp; tmp_tauto_cnf = brn.br_tmp_wrt_tauto_cnf; <span class="comment">// the unsat BCFF </span></div><div class="line">    <a class="code" href="../../da/deb/classcanon__cnf.html">canon_cnf</a>&amp; tmp_diff_cnf = brn.br_tmp_wrt_diff_cnf; <span class="comment">// the diff between tauto and guide.</span></div><div class="line">    <a class="code" href="../../da/deb/classcanon__cnf.html">canon_cnf</a>&amp; tmp_guide_cnf = brn.br_tmp_wrt_guide_cnf; <span class="comment">// the guide of tauto</span></div><div class="line">    </div><div class="line">    <span class="keywordflow">if</span>(mm == mo_find){</div><div class="line">        <a class="code" href="../../dc/dd0/classinstance__info.html">instance_info</a>&amp; iinfo = brn.get_my_inst();</div><div class="line">        row_neuron_t&amp; all_found = na_found_col.co_neus;</div><div class="line">        </div><div class="line">        <span class="comment">// find this neuromap in the skeleton:</span></div><div class="line">        tmp_diff_cnf.first_vnt_i_super_of(skg, all_found, &amp;iinfo); </div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        ch_string&amp; tau_pth = na_tauto_pth;</div><div class="line"></div><div class="line">        <span class="comment">// write all relevant cnfs of this neuromap in the skeleton:</span></div><div class="line">        tmp_tauto_cnf.save_cnf(skg, tau_pth);</div><div class="line">        tmp_diff_cnf.save_cnf(skg, tau_pth);</div><div class="line">        tmp_guide_cnf.save_cnf(skg, tau_pth);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">bool</span></div><div class="line"><a class="code" href="../../d6/d45/classneuromap.html#a9c0e877474e2d17cf8b9da564de8b8c3">neuromap::map_prepare_mem_oper</a>(mem_op_t mm){</div><div class="line">    <a class="code" href="../../d7/d79/classbrain.html">brain</a>&amp; brn = get_brn();</div><div class="line">    </div><div class="line">    brn.all_mutual_init(); <span class="comment">// init all stab aux params</span></div><div class="line">    </div><div class="line">    <span class="comment">// final stab of the guide</span></div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; guide_ne_srg = brn.br_guide_neus_srg;</div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; guide_qu_srg = brn.br_guide_quas_srg;</div><div class="line"></div><div class="line">    <span class="comment">// init sort_glb info and do some stab.</span></div><div class="line">    <span class="keywordflow">if</span>(! has_stab_guide()){</div><div class="line">        map_set_stab_guide();</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        guide_col.load_colors_into(guide_ne_srg, guide_qu_srg, dbg_call_1, <span class="keyword">this</span>);</div><div class="line">    }</div><div class="line">    <span class="comment">// final stab guide:</span></div><div class="line">    guide_ne_srg.<a class="code" href="../../d7/dec/classsort__glb.html#ad87061a8532cc773200ba06d939a6dfc">stab_mutual</a>(guide_qu_srg, <span class="keyword">false</span>);</div><div class="line">    </div><div class="line">    <a class="code" href="../../d2/d9a/classcoloring.html">coloring</a> final_guide_col(&amp;brn);</div><div class="line">    final_guide_col.save_colors_from(guide_ne_srg, guide_qu_srg, tid_tee_consec, <span class="keyword">false</span>);</div><div class="line"></div><div class="line">    <a class="code" href="../../d2/d9a/classcoloring.html">coloring</a>&amp; ini_tau_col = brn.br_tmp_ini_tauto_col;</div><div class="line">    map_get_initial_tauto_coloring(final_guide_col, ini_tau_col, mm);</div><div class="line">    </div><div class="line">    <span class="comment">// final tauto stab of this neuromap</span></div><div class="line">    brn.all_mutual_init();</div><div class="line"></div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; tauto_ne_srg = brn.br_tauto_neus_srg;</div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; tauto_qu_srg = brn.br_tauto_quas_srg;</div><div class="line">    </div><div class="line">    <span class="comment">// init all sort_glb info:</span></div><div class="line">    ini_tau_col.load_colors_into(tauto_ne_srg, tauto_qu_srg, dbg_call_3, <span class="keyword">this</span>, <span class="keyword">true</span>);</div><div class="line">    </div><div class="line">    tauto_ne_srg.<a class="code" href="../../d7/dec/classsort__glb.html#abcd6c73d28df5efcf002c2aed63ccd92">stab_mutual_unique</a>(tauto_qu_srg, <span class="keyword">this</span>);</div><div class="line">    </div><div class="line">    map_prepare_wrt_cnfs(mm, quick_find_ref); <span class="comment">// this sets the temp cnfs for this nmp.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#abcd6c73d28df5efcf002c2aed63ccd92">sort_glb::stab_mutual_unique</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2, <a class="code" href="../../d6/d45/classneuromap.html">neuromap</a>* dbg_nmp){</div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg1 = *<span class="keyword">this</span>;</div><div class="line">    <span class="keywordtype">bool</span> all_consec = <span class="keyword">false</span>;</div><div class="line">    <span class="keywordflow">while</span>(! all_consec){</div><div class="line">        stab_mutual_core(srg2);</div><div class="line">        all_consec = srg2.sg_step_all_consec;</div><div class="line">        <span class="keywordflow">if</span>(! all_consec){</div><div class="line">            srg2.stab_mutual_choose_one(srg1);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    stab_mutual_end(srg2, <span class="keyword">true</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#ad87061a8532cc773200ba06d939a6dfc">sort_glb::stab_mutual</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2, <span class="keywordtype">bool</span> one_ccl_per_ss){</div><div class="line">    stab_mutual_core(srg2);</div><div class="line">    stab_mutual_end(srg2, one_ccl_per_ss);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#a314081679beafcbbeac7f2e504558f18">sort_glb::stab_mutual_core</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2){</div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg1 = *<span class="keyword">this</span>;</div><div class="line">    <span class="keywordtype">bool</span> has_diff = <span class="keyword">true</span>;</div><div class="line">    <span class="keywordflow">while</span>(has_diff){</div><div class="line">        srg1.<a class="code" href="../../d7/dec/classsort__glb.html#a25baf3b8e0bc9bdca9c0d6658b298f07">step_neus</a>(srg2);</div><div class="line">        <span class="keywordtype">bool</span> diff1 = srg1.sg_step_has_diff;</div><div class="line">        srg2.<a class="code" href="../../d7/dec/classsort__glb.html#a40a9304f2ef43071021472a8e020069a">step_opps</a>(srg1);</div><div class="line">        srg2.<a class="code" href="../../d7/dec/classsort__glb.html#aa41c7303e4bae7eb7c466f119c3ace1f">step_quas</a>(srg1);</div><div class="line">        <span class="keywordtype">bool</span> diff2 = srg2.sg_step_has_diff;</div><div class="line">        has_diff = (diff1 || diff2);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#a25baf3b8e0bc9bdca9c0d6658b298f07">sort_glb::step_neus</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; mates_srg){</div><div class="line">    step_mutual_stabilize(mates_srg, sm_with_neus);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#a40a9304f2ef43071021472a8e020069a">sort_glb::step_opps</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; mates_srg){</div><div class="line">    step_mutual_stabilize(mates_srg, sm_with_opps);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d7/dec/classsort__glb.html#aa41c7303e4bae7eb7c466f119c3ace1f">sort_glb::step_quas</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; mates_srg){</div><div class="line">    step_mutual_stabilize(mates_srg, sm_with_quas);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line">sort_glb::step_mutual_stabilize(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2, step_mutual_op_t op){</div><div class="line">    <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg1 = *<span class="keyword">this</span>;</div><div class="line"></div><div class="line">    <span class="comment">// initialize some step info</span></div><div class="line">    <span class="comment">// (see the code)</span></div><div class="line">    <span class="comment">// .....</span></div><div class="line">    </div><div class="line">    row&lt;sorset*&gt;&amp; sets = sg_step_prv_sorsets;</div><div class="line">    sets.clear();</div><div class="line"></div><div class="line">    sg_step_sorsets.move_to(sets);</div><div class="line">    sg_step_sorsets.set_cap(sets.size());</div><div class="line">    </div><div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">long</span> aa = 0; aa &lt; sets.size(); aa++){</div><div class="line">        <a class="code" href="../../d3/d62/classsorset.html">sorset</a>&amp; srs = *(sets[aa]);</div><div class="line">        sets[aa] = NULL_PT;</div><div class="line"></div><div class="line">        srs.<a class="code" href="../../d3/d62/classsorset.html#a9a85b9412bc1fc5bea86d416e52b55c7">step_mutual_stabilize_rec</a>(srg1, srg2);</div><div class="line">    }</div><div class="line">    sets.clear();</div><div class="line"></div><div class="line">    <span class="comment">// setup final info (sg_cnf_clauses)</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d3/d62/classsorset.html#a9a85b9412bc1fc5bea86d416e52b55c7">sorset::step_mutual_stabilize_rec</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg1, <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2){</div><div class="line">    <span class="keywordflow">while</span>(has_subsets()){</div><div class="line">        <a class="code" href="../../d3/d62/classsorset.html">sorset</a>&amp; nsr = first_subset();</div><div class="line">        nsr.<a class="code" href="../../d3/d62/classsorset.html#a9a85b9412bc1fc5bea86d416e52b55c7">step_mutual_stabilize_rec</a>(srg1, srg2);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="../../d3/d62/classsorset.html#a9a85b9412bc1fc5bea86d416e52b55c7">sorset::step_mutual_stabilize_rec</a>(<a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg1, <a class="code" href="../../d7/dec/classsort__glb.html">sort_glb</a>&amp; srg2){</div><div class="line">    <span class="keywordflow">while</span>(has_subsets()){</div><div class="line">        <a class="code" href="../../d3/d62/classsorset.html">sorset</a>&amp; nsr = first_subset();</div><div class="line">        nsr.<a class="code" href="../../d3/d62/classsorset.html#a9a85b9412bc1fc5bea86d416e52b55c7">step_mutual_stabilize_rec</a>(srg1, srg2);</div><div class="line">    }</div><div class="line">    </div><div class="line">    binder* fst = ss_items.bn_right;</div><div class="line">    binder* lst = &amp;(ss_items);</div><div class="line">    binder* rgt = NULL_PT;</div><div class="line">    <span class="keywordflow">for</span>(rgt = fst; rgt != lst; rgt = rgt-&gt;bn_right){</div><div class="line">        <a class="code" href="../../d8/d36/classsortee.html">sortee</a>&amp; srt = as_sortee(rgt);</div><div class="line">        <span class="keywordflow">if</span>(oper == sm_with_neus){</div><div class="line">            row&lt;sortee*&gt;&amp; all_mates = srt.so_related-&gt;so_mates;</div><div class="line">            srg2.<a class="code" href="../../d7/dec/classsort__glb.html#ac755a6417f43e7860ca96317a8e8f4e8">sort_all_from</a>(all_mates, curr_stab_consec, <span class="keyword">false</span>, 0, <span class="keyword">true</span>, tc_none,</div><div class="line">                                &amp;srg1, &amp;srt); <span class="comment">// it calls sort_from for all mates</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">if</span>(oper == sm_with_opps){</div><div class="line">            <a class="code" href="../../d8/d36/classsortee.html">sortee</a>&amp; opp = srt.opposite();</div><div class="line">            <a class="code" href="../../d3/d62/classsorset.html">sorset</a>&amp; vssl = opp.get_vessel();</div><div class="line">    </div><div class="line">            <span class="keywordflow">if</span>(&amp;vssl != <span class="keyword">this</span>){</div><div class="line">                opp.<a class="code" href="../../d8/d36/classsortee.html#a5cc113e22e62dfcb3869c2786ae5345e">sort_from</a>(srg1, curr_stab_consec);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">if</span>(oper == sm_with_quas){</div><div class="line">            <span class="keywordtype">long</span> qua_id = srt.get_qua_id(srg1);</div><div class="line">            </div><div class="line">            row&lt;sortee*&gt;&amp; all_mates = srt.so_related-&gt;so_mates;</div><div class="line">            srg2.<a class="code" href="../../d7/dec/classsort__glb.html#ac755a6417f43e7860ca96317a8e8f4e8">sort_all_from</a>(all_mates, curr_stab_consec, <span class="keyword">true</span>, qua_id, <span class="keyword">false</span>, tc_mates,</div><div class="line">                                &amp;srg1, &amp;srt); <span class="comment">// it calls sort_from for all mates</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 16 2017 16:56:09 for Doxygen-Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
